"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[435],{435:function(e,t,r){r.r(t),r.d(t,{default:function(){return y}});var n=r(861),a=r(439),i=r(687),s=r.n(i),u=r(791),c=r(87),o=r(689),m=r(243),l="https://api.themoviedb.org/3/search/movie",f="39009e1fbdefdc1ea3efc46fca7ed6e3",p={method:"GET",headers:{accept:"application/json",Authorization:"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzOTAwOWUxZmJkZWZkYzFlYTNlZmM0NmZjYTdlZDZlMyIsInN1YiI6IjY0N2NkMjBiMjYzNDYyMDBmOTI5NWRkZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.LAF8CyGvOhHBE3e-x8-tvz8nNI4gXsXcDzwmj4Y_YN0"}},h=function(){var e=(0,n.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.get("".concat(l,"?query=").concat(t,"&api_key=").concat(f),p);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v={input:"movies_input__rHz1z",btnSubmit:"movies_btnSubmit__8oN9Z",filmsListQuery:"movies_filmsListQuery__vXeYb",filmsQueryItem:"movies_filmsQueryItem__kJ22f"},d=r(184),y=function(){var e,t=(0,u.useState)(""),r=(0,a.Z)(t,2),i=r[0],m=r[1],l=(0,u.useState)([]),f=(0,a.Z)(l,2),p=f[0],y=f[1],b=(0,c.lr)(),_=(0,a.Z)(b,2),N=_[0],Z=_[1],x=null!==(e=N.get("query"))&&void 0!==e?e:"",I=(0,o.TH)();(0,u.useEffect)((function(){if(""!==x){var e=function(){var e=(0,n.Z)(s().mark((function e(){var t,r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(x);case 3:200===(t=e.sent).status&&(r=t.data.results,n=r.map((function(e){return(0,d.jsx)("li",{children:(0,d.jsx)(c.rU,{className:v.filmsQueryItem,to:"/movies/".concat(e.id),state:{from:I},children:e.title})},e.id)})),y(n)),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}}),[x,I]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===i.trim())return alert("enter query");Z({query:i.trim()}),m("")},className:v.form,children:[(0,d.jsx)("input",{className:v.input,value:i,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:function(e){m(e.target.value)}}),(0,d.jsx)("button",{className:v.btnSubmit,type:"submit",children:"Search"})]}),""!==x&&(0,d.jsx)("ul",{className:v.filmsListQuery,children:p})]})}}}]);
//# sourceMappingURL=435.0c6ec774.chunk.js.map