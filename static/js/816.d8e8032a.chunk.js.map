{"version":3,"file":"static/js/816.d8e8032a.chunk.js","mappings":"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","sources":["services/fetchDetailsFilm.js","webpack://react-homework-template/./src/pages/moviedetails/moviedetails.module.css?c139","pages/moviedetails/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst fetchLinks = {\n  URL: 'https://api.themoviedb.org/3/movie/',\n  KEY: '39009e1fbdefdc1ea3efc46fca7ed6e3',\n};\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzOTAwOWUxZmJkZWZkYzFlYTNlZmM0NmZjYTdlZDZlMyIsInN1YiI6IjY0N2NkMjBiMjYzNDYyMDBmOTI5NWRkZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.LAF8CyGvOhHBE3e-x8-tvz8nNI4gXsXcDzwmj4Y_YN0',\n  },\n};\n\nexport const fetchDetailsFilm = async id => {\n  const response = await axios\n    .get(`${fetchLinks.URL}${id}?api_key=${fetchLinks.KEY}`, options)\n    .catch(function (error) {\n      if (error.response.status !== 200) {\n        return alert(error.response.data.status_message);\n      }\n    });\n  return response;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"filmInfo\":\"moviedetails_filmInfo__vkUj7\",\"content\":\"moviedetails_content__IPeUb\",\"goback\":\"moviedetails_goback__mrUTG\",\"titleFilm\":\"moviedetails_titleFilm__5ASBQ\",\"scoreFilm\":\"moviedetails_scoreFilm__S-TnW\",\"overview\":\"moviedetails_overview__TtJRy\",\"overviewText\":\"moviedetails_overviewText__pJ0YX\",\"genre\":\"moviedetails_genre__jV4Pw\",\"genreList\":\"moviedetails_genreList__JkQQl\",\"addInfo\":\"moviedetails_addInfo__Z9YYE\",\"addInfoTitle\":\"moviedetails_addInfoTitle__VM3is\",\"addInfoList\":\"moviedetails_addInfoList__Smtu5\",\"addInfoItem\":\"moviedetails_addInfoItem__Q7xoE\",\"loadInfo\":\"moviedetails_loadInfo__lpGtG\"};","import { useEffect, useState, useRef, Suspense } from 'react';\nimport { format } from 'date-fns';\nimport { useParams, Link, useLocation, Outlet } from 'react-router-dom';\nimport { fetchDetailsFilm } from 'services/fetchDetailsFilm';\nimport css from './moviedetails.module.css';\n\nconst MovieDetails = () => {\n  const [title, setTitle] = useState('');\n  const [overview, setOverview] = useState('');\n  const [genre, setGenre] = useState([]);\n  const [imgsrc, setImgsrc] = useState('');\n  const [altimg, setAltImg] = useState('');\n  const [year, setYear] = useState('');\n  const [userScore, setUserScore] = useState(0);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const { movieId } = useParams();\n  const location = useLocation();\n  const backLink = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    try {\n      const detailsFilm = async () => {\n        setIsLoading(true);\n        const response = await fetchDetailsFilm(Number(movieId));\n        if (!response) {\n          return;\n        }\n        const dataObj = response.data;\n        setIsLoading(false);\n        setTitle(dataObj.original_title);\n        dataObj.poster_path === null\n          ? setImgsrc(\n              'https://thumbs.dreamstime.com/z/ardoise-de-film-et-bobine-de-film-sur-le-bois-36502412.jpg?w=992'\n            )\n          : setImgsrc(`https://image.tmdb.org/t/p/w500${dataObj.poster_path}`);\n\n        setOverview(dataObj.overview);\n        setGenre(dataObj.genres);\n        const newYearFormat = format(new Date(dataObj.release_date), 'yyyy');\n        setYear(newYearFormat);\n        setAltImg(dataObj.title);\n        const score = (dataObj.vote_average * 10).toFixed();\n        setUserScore(score);\n      };\n      detailsFilm();\n    } catch (error) {\n      alert(error.message);\n    }\n  }, [movieId]);\n\n  return (\n    <>\n      <Link className={css.goback} to={backLink.current}>\n        {'<-'} Go Back\n      </Link>\n      {!isLoading && (\n        <>\n          <div className={css.filmInfo}>\n            <img src={imgsrc} alt={altimg} width=\"300px\" />\n\n            <div className={css.content}>\n              <h2 className={css.titleFilm}>\n                {title} ({year})\n              </h2>\n              <p className={css.scoreFilm}>User Score: {userScore}%</p>\n              <h3 className={css.overview}>Overview</h3>\n              <p className={css.overviewText}>{overview}</p>\n              <h3 className={css.genre}>Genres</h3>\n              <ul className={css.genreList}>\n                {genre.map(objGenre => {\n                  return (\n                    <li key={objGenre.id}>\n                      <p>{objGenre.name}</p>\n                    </li>\n                  );\n                })}\n              </ul>\n            </div>\n          </div>\n          <div className={css.addInfo}>\n            <h4 className={css.addInfoTitle}>Additional information</h4>\n            <ul className={css.addInfoList}>\n              <li>\n                <Link className={css.addInfoItem} to={'cast'}>\n                  Cast\n                </Link>\n              </li>\n              <li>\n                <Link className={css.addInfoItem} to={'reviews'}>\n                  Reviews\n                </Link>\n              </li>\n            </ul>\n            <Suspense\n              fallback={\n                <div className={css.loadInfo}>Loading information...</div>\n              }\n            >\n              <Outlet />\n            </Suspense>\n          </div>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["fetchLinks","options","method","headers","accept","Authorization","fetchDetailsFilm","id","axios","catch","error","response","status","alert","data","status_message","useState","title","setTitle","overview","setOverview","genre","setGenre","imgsrc","setImgsrc","altimg","setAltImg","year","setYear","userScore","setUserScore","isLoading","setIsLoading","movieId","useParams","location","useLocation","backLink","useRef","state","from","useEffect","detailsFilm","Number","dataObj","original_title","poster_path","genres","newYearFormat","format","Date","release_date","score","vote_average","toFixed","message","className","css","to","current","src","alt","width","map","objGenre","name","Suspense","fallback"],"sourceRoot":""}