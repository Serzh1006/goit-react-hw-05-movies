{"version":3,"file":"static/js/435.0c6ec774.chunk.js","mappings":"8PAEMA,EACC,4CADDA,EAEC,mCAGDC,EAAU,CACdC,OAAQ,MACRC,QAAS,CACPC,OAAQ,mBACRC,cACE,wNAIOC,EAAgB,mCAAG,WAAMC,GAAN,uFACPC,EAAAA,EAAAA,IAAA,UAClBR,EADkB,kBACMO,EADN,oBACuBP,GAC5CC,GAH4B,cACxBQ,EADwB,yBAKvBA,GALuB,2CAAH,sDCf7B,GAAgB,MAAQ,sBAAsB,UAAY,0BAA0B,eAAiB,+BAA+B,eAAiB,gC,SC4ErJ,EAxEe,WAAO,IAAD,EACnB,GAAsCC,EAAAA,EAAAA,UAAS,IAA/C,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAAkCF,EAAAA,EAAAA,UAAS,IAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMV,EAAK,UAAGS,EAAaE,IAAI,gBAApB,QAAgC,GAErCC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACR,GAAc,KAAVd,EAAJ,CAGA,IAAMe,EAAc,mCAAG,iHAEIhB,EAAiBC,GAFrB,OAGK,OADlBE,EAFa,QAGNc,SACLC,EAAOf,EAASe,KAAKC,QACrBC,EAAUF,EAAKG,KAAI,SAAAC,GACvB,OACE,yBACE,SAAC,KAAD,CACEC,UAAWC,EAAAA,eACXC,GAAE,kBAAaH,EAAII,IACnBC,MAAO,CAAEC,KAAMf,GAHjB,SAKGS,EAAIO,SANAP,EAAII,GAUhB,IACDlB,EAAaY,IAlBI,uGAAH,qDAuBpBJ,GAxBC,CAyBF,GAAE,CAACf,EAAOY,IAeX,OACE,iCACE,kBAAMiB,SAfY,SAAAC,GAEpB,GADAA,EAAEC,iBACyB,KAAvB3B,EAAY4B,OACd,OAAOC,MAAM,eAEfvB,EAAgB,CAAEV,MAAOI,EAAY4B,SACrC3B,EAAe,GAChB,EAQkCiB,UAAWC,EAAAA,KAA1C,WACE,kBACED,UAAWC,EAAAA,MACXW,MAAO9B,EACP+B,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,gBACZC,SAdS,SAAAT,GACfzB,EAAeyB,EAAEU,OAAON,MACzB,KAcK,mBAAQZ,UAAWC,EAAAA,UAAeY,KAAK,SAAvC,uBAIS,KAAVnC,IAAgB,eAAIsB,UAAWC,EAAAA,eAAf,SAAoCjB,MAG1D,C","sources":["services/fetchSearchMovie.js","webpack://react-homework-template/./src/pages/movies/movies.module.css?0ac1","pages/movies/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst fetchLinks = {\n  URL: 'https://api.themoviedb.org/3/search/movie',\n  KEY: '39009e1fbdefdc1ea3efc46fca7ed6e3',\n};\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzOTAwOWUxZmJkZWZkYzFlYTNlZmM0NmZjYTdlZDZlMyIsInN1YiI6IjY0N2NkMjBiMjYzNDYyMDBmOTI5NWRkZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.LAF8CyGvOhHBE3e-x8-tvz8nNI4gXsXcDzwmj4Y_YN0',\n  },\n};\n\nexport const fetchSearchMovie = async query => {\n  const response = await axios.get(\n    `${fetchLinks.URL}?query=${query}&api_key=${fetchLinks.KEY}`,\n    options\n  );\n  return response;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"movies_input__rHz1z\",\"btnSubmit\":\"movies_btnSubmit__8oN9Z\",\"filmsListQuery\":\"movies_filmsListQuery__vXeYb\",\"filmsQueryItem\":\"movies_filmsQueryItem__kJ22f\"};","import { useEffect, useState } from 'react';\nimport { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport { fetchSearchMovie } from 'services/fetchSearchMovie';\nimport css from './movies.module.css';\n\nconst Movies = () => {\n  const [searchValue, setSearchValue] = useState('');\n  const [dataArray, setDataArray] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n\n  const location = useLocation();\n\n  useEffect(() => {\n    if (query === '') {\n      return;\n    }\n    const getFilmByQuery = async () => {\n      try {\n        const response = await fetchSearchMovie(query);\n        if (response.status === 200) {\n          const data = response.data.results;\n          const getData = data.map(obj => {\n            return (\n              <li key={obj.id}>\n                <Link\n                  className={css.filmsQueryItem}\n                  to={`/movies/${obj.id}`}\n                  state={{ from: location }}\n                >\n                  {obj.title}\n                </Link>\n              </li>\n            );\n          });\n          setDataArray(getData);\n        }\n      } catch (error) {}\n    };\n\n    getFilmByQuery();\n  }, [query, location]);\n\n  const submitByQuery = e => {\n    e.preventDefault();\n    if (searchValue.trim() === '') {\n      return alert('enter query');\n    }\n    setSearchParams({ query: searchValue.trim() });\n    setSearchValue('');\n  };\n\n  const getValue = e => {\n    setSearchValue(e.target.value);\n  };\n\n  return (\n    <>\n      <form onSubmit={submitByQuery} className={css.form}>\n        <input\n          className={css.input}\n          value={searchValue}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n          onChange={getValue}\n        />\n        <button className={css.btnSubmit} type=\"submit\">\n          Search\n        </button>\n      </form>\n      {query !== '' && <ul className={css.filmsListQuery}>{dataArray}</ul>}\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["fetchLinks","options","method","headers","accept","Authorization","fetchSearchMovie","query","axios","response","useState","searchValue","setSearchValue","dataArray","setDataArray","useSearchParams","searchParams","setSearchParams","get","location","useLocation","useEffect","getFilmByQuery","status","data","results","getData","map","obj","className","css","to","id","state","from","title","onSubmit","e","preventDefault","trim","alert","value","type","autoComplete","autoFocus","placeholder","onChange","target"],"sourceRoot":""}